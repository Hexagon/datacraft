{"version":3,"sources":["dist/datacraft.cjs"],"names":["global","factory","exports","module","define","amd","globalThis","self","DataSet","this","clone","source","target","breakCircular","trace","undefined","valueOf","constructor","Object","Array","isArray","let","seed","key","prop","circularReference","Date","getTime","WeakMap","prototype","hasOwnProperty","call","getOwnPropertyDescriptor","writable","get","set","assign","validate","obj","allowedFields","requiredFields","objectKeys","Set","keys","allowedSet","forEach","k","has","Error","requiredSet","r","options","entries","insert","inData","v","push","TypeError","update","o","whereFn","toArray","oCopy","e","drop","fieldName","join","oDs","conditionCb","matches","localObj","remoteObj","joinFirst","copy","reduce","filter","first","result","length","groupBy","groupByFieldsInput","outputFieldName","groupByFields","outputMap","output","currentOutputObj","f","fieldValue","field","value","children","rebuildResults","currentLevel","trail","values","currentItem","total","newEntry","avg","mapCb","data","map","a","b","sum","min","Math","max","countd","size","count","calc","calcCb","autonumber","current"],"mappings":"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"}